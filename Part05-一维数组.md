# 第五部分 一维数组

## 一、理论梳理

### 1. 一维数组的基本概念

首先要分清两个概念：（1）数组 （2）数组中的元素。

数组是由一系列元素构成的一个集合，那么一个一维数组中元素的特征是：

- 元素存储是连续的

-  元素的数据类型是一致的

- 元素的个数是固定的

如何声明一个int类型的一维数组：

**声明方法1:**

```java
int[] array = new int[5];
```

![avater](./pictures/part05-1.png)

**要点1:** 左边的 int 表示一维数组元素的类型。

**要点2:** int[] 中括号表示 array 这个变量是一维数组的引用，即array变量可以用任意一个具体的一维数组给其赋值。

**要点3:** 右边的 new int[5] 代表在内存堆空间（第3部分会重点说）里，开辟一个连续的5位的int类型的存储空间。

**要点4:** 等号表示将array这个引用指向开辟出来的连续的5位的int类型存储空间。

**要点5:** 连续5位的存储空间里的元素是有编号的，从0开始，到4结束。

**要点6:** new 或者说在内存堆中创建的元素，都会有初始值。表示数据的为0，表示引用的为null

**要点7:** 可以通过下面的代码，给一维数组的具体元素赋值：

```java
array[0] = 10;
array[1] = 1;
array[2] = 5;
array[3] = 6;
array[4] = -8;
```

**声明方法 2:**

```java
int[] array2 = {5, 4, 3, 2, 1};
```

<img src="./pictures/part05-2.png" alt="avater" style="zoom:50%;" />

### 2. 遍历数组

**方法1:**通过for循环来访问数组中每一个元素：

```java
for (int i = 0; i < array.length; i++) {
    array[i]++;
    System.out.println(array[i]);
}
```

**要点1:** array.length 代表数组的长度，也是数组中元素的个数。

**要点2:** array[i] 代表通过数组的实际存储位置以及元素的索引，直接定位到数组中具体某一个元素。 因此，array[i]++; 会修改元素的值。

 

**方法2:** 通过foreach循环来遍历数组的元素

```java
for (int e: array) {
    System.out.println(e);
}
```

**要点1:** for(int e: array) 代表每一轮循环，将array中的每一个元素的值赋值给e，我们也可以看书，e的数据类型与array的数据类型是一致的。

**要点2:** 用foreach循环遍历数组，适用于获取数组中元素的值，而不能修改数组中的元素。

### 3. 数组的空间分配

在JVM内存管理中，存在两个空间：

（1）   栈空间： 常常用于存放main方法中声明的变量，比如 int[] array; 中的array也是存放在栈空间。

（2）   堆空间： 用于存放对象或数组中的元素，一般来说new 出来的数据，都存放在堆空间里。

<img src="./pictures/part05-3.png" alt="avater" style="zoom:67%;" />

在图中我们可以看到，栈空间里有array与array2，堆空间便存放着array与array2指向的具体的数组元素。

我们可以思考这样一个问题：

比如我们这样声明一个数组：

```int[] array3;```

这样一个数组array3，它的值为**null**，表示没有指向堆里任何空间。

如果我们继续做一个操作：

```array3 = array;```

这样代表，array3 与array共享一个空间，如下图所示：

<img src="./pictures/part05-4.png" alt="avater" style="zoom:67%;" />

